(window.HanselPX=window.HanselPX||[]).push([[5],{71:function(t,e,o){"use strict";o.r(e);var i=o(9),s=o(5),r=o(3),n=o(0),p=o(19),a=o(28),l=o(68),h=o(73),c=o(74),d=o(72),g=o(8),_=o(39);function u(t,e,o,i,s){return r.a.drawRoundSpotlightBackdrop(i,s,t.props.nudge_props,e,o)}function w(t,e,o,i,s){return r.a.drawAnchorSpotlight(i,s,t.props.nudge_props,e,"round"===t.props.backdropStyle?o+"-spotlight-round-backdrop":o)}function A(t,e,o,i,s){const n=function(t,e,o,i,s){return r.a.drawAnchorSpotlight(i,s,t.props.nudge_props,e,"round"===t.props.backdropStyle?o+"-spotlight-round-backdrop":o,!0)}(t,e,o,i,s);return r.a.removeCssClass(n,"spotlight"),r.a.applyCssClass(n,"hansel-spotlight-animating-container"),function(t,e,o){try{t.props.backdropDismiss&&e.setAttribute("onclick",r.a.generateButtonClickHandler(o))}catch(t){}}(t,n,o),n}function f(t){return r.a.createElementFromHTML(p.a.get("hansel-arrow-canvas",t+"-arrow-canvas"))}function m(t,e,o,i,s,n){const p=t.props.nudge_props.spotlightArrowColor||"#fff";Object.prototype.hasOwnProperty.call(t.props.nudge_props,"spotlightPointerType")&&"arrow"!==t.props.nudge_props.spotlightPointerType?r.a.drawSpotlightArrowWithCircleHead(e,o,i,s,n,p):r.a.drawSpotligtArrow(e,o,i,s,n,p)}function E(t,e,o,i){try{t.props.backdropDismiss&&e.setAttribute("onclick",r.a.generateButtonClickHandler(o)),"round"===t.props.backdropStyle&&t.props.backdropDismiss&&i.setAttribute("onclick",r.a.generateButtonClickHandler(o))}catch(t){}}function b(t,e,o){let i,s;return"square"===t.props.nudge_props.style?(i=50,s="top"===o||"bottom"===o?e.height/2+i:e.width/2+i):(i="DESKTOP"===t.props.view?50:30,s=Math.max(e.width,e.height)/2+i),{spotlightArrowContainerHeight:i,promptOffset:s}}function G(t,e,o,i,s,p,a,l){const h=document.getElementById(i),c=e.props.nudgePosition||"bottom",d=t.getBoundingClientRect(),g=r.a.getScreenDetails();let G,R;p=(o.left+o.right)/2,"round"===e.props.backdropStyle&&(G=u(e,o,i,p,a));let y=w(e,o,i,p,a),D="#000000",T=.8;Object.prototype.hasOwnProperty.call(e.props,"backDropColor")&&(D=e.props.backDropColor),Object.prototype.hasOwnProperty.call(e.props,"backDropOpacity")&&(T=e.props.backDropOpacity),y.style.boxShadow="0 0 0 2000px "+r.a.hexToRgba(D,T);const H=y.getBoundingClientRect();E(e,y,i,G);const O=b(e,H,c);s=O.promptOffset,R=O.spotlightArrowContainerHeight,e.props.nudge_props.showSpotlightAnimation&&A(e,o,i,p,a),"top"===c||"bottom"===c?function(t,e,o,i,s,p,a,l,h,c,d,g,u,w){let A,E="bottom"===t?1:-1;A=o.props.nudge_props.showSpotlightArrow?p.y+p.height/2+E*(a+2*(n.c.SPOTLIGHT_ARROW_GUTTER+n.c.ARROW_HEAD_LENGTH)):"bottom"===t?p.bottom+2*n.c.ARROW_HEAD_LENGTH:p.top-2*n.c.ARROW_HEAD_LENGTH;"bottom"===t&&h.viewport.height-A<g.height?(A-=2*(a+2*(n.c.SPOTLIGHT_ARROW_GUTTER+n.c.ARROW_HEAD_LENGTH)),t="top"):"top"===t&&A<g.height&&(A+=2*(a+2*(n.c.SPOTLIGHT_ARROW_GUTTER+n.c.ARROW_HEAD_LENGTH)),t="bottom");if(e.style.zIndex=parseInt(window.getComputedStyle(e).getPropertyValue("z-index"))+2,r.a.applyCssClass(`#${l}-backdrop`,"transparent"),"bottom"===t){e.style.top=r.a.dimensionValue(A);let t=r.a.dimensionValue(h.viewport.height-A);e.style.maxHeight=t}else e.style.bottom=r.a.dimensionValue(h.viewport.height-A),e.style.maxHeight=r.a.dimensionValue(A-n.c.NUDGE_PAGE_Y_PADDING);d=i<h.viewport.width-i?{width:i,side:"left"}:{width:h.viewport.width-i,side:"right"};let b,G=h.viewport.width-g.width,R=G>=2*n.c.NUDGE_PAGE_X_PADDING?n.c.NUDGE_PAGE_X_PADDING:G/2;100===o.props.width.value&&(R=0);g.width/2+n.c.NUDGE_PAGE_X_PADDING<d.width?(e.style.left=r.a.dimensionValue(i-g.width/2-R),b="center"):(e.style[d.side]=r.a.dimensionValue(R),b=d.side);let y,D=e.getBoundingClientRect();i<D.left+(n.c.NUDGE_PAGE_X_PADDING+7)?y="left":i>D.right-(n.c.NUDGE_PAGE_X_PADDING+7)&&(y="right");if(y){let o=`border-${"bottom"===t?"top":"bottom"}-${y}-radius`;e.style[o]=0}if(_.default.postRenderTasks(),o.props.nudge_props.showSpotlightArrow){let s=f(l);u.appendChild(s);let a,c,d,g,_,A=e.getBoundingClientRect();switch(s.height=w+2*n.c.ARROW_HEAD_LENGTH,s.width=Math.abs(p.left+p.width/2-(A.left+A.width/2))+2*n.c.ARROW_HEAD_LENGTH,"bottom"===t?(a=p.bottom+n.c.SPOTLIGHT_ARROW_GUTTER,s.style.top=r.a.dimensionValue(a)):(a=h.viewport.height-p.top+n.c.SPOTLIGHT_ARROW_GUTTER,s.style.bottom=r.a.dimensionValue(a)),b){case"left":case"center":s.style.left=r.a.dimensionValue(i-n.c.ARROW_HEAD_LENGTH);break;case"right":s.style.right=r.a.dimensionValue(h.viewport.width-i-n.c.ARROW_HEAD_LENGTH)}let E=n.c.ARROW_HEAD_LENGTH;if("top"===t)switch(b){case"left":c=s.width-E,d=E,g=E,_=s.height-E;break;case"center":c=s.width/2,d=E,g=s.width/2,_=s.height-E;break;case"right":c=E,d=E,g=s.width-E,_=s.height-E}else switch(b){case"left":c=s.width-E,d=s.height-E,g=E,_=E;break;case"center":c=s.width/2,d=s.height-E,g=s.width/2,_=E;break;case"right":c=E,d=s.height-E,g=s.width-E,_=E}m(o,s,c,d,g,_)}}(c,t,e,p,0,H,s,i,g,0,void 0,d,h,R):function(t,e,o,i,s,p,a,l,h,c,d,g,u,w){let A="right"===t?1:-1,E=i+A*a;E=o.props.nudge_props.showSpotlightArrow?p.left+p.width/2+A*(a+2*(n.c.SPOTLIGHT_ARROW_GUTTER+n.c.ARROW_HEAD_LENGTH)):"left"===t?p.left-2*n.c.ARROW_HEAD_LENGTH:p.left+p.width+2*n.c.ARROW_HEAD_LENGTH;e.style.zIndex=parseInt(window.getComputedStyle(e).getPropertyValue("z-index"))+2,r.a.applyCssClass(`#${l}-backdrop`,"transparent"),"left"===t?(e.style.right=r.a.dimensionValue(h.viewport.width-E),e.style.maxWidth=r.a.dimensionValue(E-n.c.NUDGE_PAGE_X_PADDING)):"right"===t&&(e.style.left=r.a.dimensionValue(E),e.style.maxWidth=r.a.dimensionValue(h.viewport.width-E-n.c.NUDGE_PAGE_X_PADDING));d=s<h.viewport.height-s?{height:s,side:"top"}:{height:h.viewport.height-s,side:"bottom"};let b,G=h.viewport.height-g.height,R=G>=2*n.c.NUDGE_PAGE_Y_PADDING?n.c.NUDGE_PAGE_Y_PADDING:G/2;_.default.postRenderTasks();let y=e.getBoundingClientRect();y.height/2+n.c.NUDGE_PAGE_Y_PADDING<d.height?(e.style.top=r.a.dimensionValue(p.top+p.height/2-y.height/2),b="center"):(e.style[d.side]=r.a.dimensionValue(R),b=d.side);if(o.props.nudge_props.showSpotlightArrow){let i=f(l);u.appendChild(i);let s=e.getBoundingClientRect();i.width=w+2*n.c.ARROW_HEAD_LENGTH,i.height=Math.abs(p.top+p.height/2-(s.top+s.height/2))+2*n.c.ARROW_HEAD_LENGTH,"left"===t?i.style.left=r.a.dimensionValue(s.left+s.width+n.c.SPOTLIGHT_ARROW_GUTTER):"right"===t&&(i.style.left=r.a.dimensionValue(p.left+p.width+n.c.SPOTLIGHT_ARROW_GUTTER));const a={y:p.top+p.height/2,x:p.left+p.width/2};switch(b){case"top":case"center":i.style.top=r.a.dimensionValue(a.y-n.c.ARROW_HEAD_LENGTH);break;case"bottom":i.style.bottom=r.a.dimensionValue(h.viewport.height-a.y-n.c.ARROW_HEAD_LENGTH)}let c,d,g,_,A=n.c.ARROW_HEAD_LENGTH;if("left"===t)switch(b){case"top":case"center":c=A,d=i.height-A,g=i.width-A,_=A;break;case"bottom":c=A,d=A,g=i.width-A,_=i.height-A}else if("right"===t)switch(b){case"top":c=i.width-A,d=i.height-A,g=A,_=A;break;case"center":case"bottom":c=i.width-A,d=A,g=A,_=i.height-A}m(o,i,c,d,g,_)}}(c,t,e,p,a,H,s,i,g,0,void 0,d,h,R)}const R={positionPncPrompt:function(t,e,o){const p=e.props.nudge_type;if("spotlight"===p)return void function(t,e,o){let i,s,p,l,h;const c=document.getElementById(o);let d,g;const R=r.a.getScreenDetails(),y=t.getBoundingClientRect(),D=Object(a.d)(e.props.element_identifier);let T=D.getBoundingClientRect(),H=T.left+e.props.selected_view_position.offset_x/100*(D.offsetWidth||T.width),O=T.top+e.props.selected_view_position.offset_y/100*(D.offsetHeight||T.height),P=T.top+e.props.selected_view_position.offset_y/100*(D.offsetHeight||T.height),N=P<R.viewport.height/2?"up":"down";e.props.allowAppInteraction&&e.props.pnc_gravity&&("top"===e.props.pnc_gravity?N="down":"bottom"===e.props.pnc_gravity&&(N="up"));const k="up"===N?1:-1;if(h=20,l=O+k*h,"spotlight"===e.props.nudge_type&&e.props.nudgePosition&&"auto"!==e.props.nudgePosition)return void G(t,e,T,o,h,H,O);H=(T.left+T.right)/2,"round"===e.props.backdropStyle&&(p=u(e,T,o,H,O));s=w(e,T,o,H,O),d=s.getBoundingClientRect();let v="#000000",I=.8;Object.prototype.hasOwnProperty.call(e.props,"backDropColor")&&(v=e.props.backDropColor);Object.prototype.hasOwnProperty.call(e.props,"backDropOpacity")&&(I=e.props.backDropOpacity);s.style.boxShadow="0 0 0 2000px "+r.a.hexToRgba(v,I),E(e,s,o,p);const L=b(e,d,"bottom");h=L.promptOffset,g=L.spotlightArrowContainerHeight,e.props.nudge_props.showSpotlightAnimation&&A(e,T,o,H,O);l=e.props.nudge_props.showSpotlightArrow?d.y+d.height/2+k*(h+2*(n.c.SPOTLIGHT_ARROW_GUTTER+n.c.ARROW_HEAD_LENGTH)):"up"===N?d.bottom+2*n.c.ARROW_HEAD_LENGTH:d.top-2*n.c.ARROW_HEAD_LENGTH;if(t.style.zIndex=parseInt(window.getComputedStyle(t).getPropertyValue("z-index"))+2,r.a.applyCssClass(`#${o}-backdrop`,"transparent"),"up"===N){t.style.top=r.a.dimensionValue(l);let o=r.a.dimensionValue(R.viewport.height-(P+n.c.NUDGE_PAGE_Y_PADDING));"spotlight"===e.props.nudge_type&&(o=r.a.dimensionValue(R.viewport.height-l)),t.style.maxHeight=o}else t.style.bottom=r.a.dimensionValue(R.viewport.height-l),t.style.maxHeight=r.a.dimensionValue(l-n.c.NUDGE_PAGE_Y_PADDING);i=H<R.viewport.width-H?{width:H,side:"left"}:{width:R.viewport.width-H,side:"right"};let C,W=R.viewport.width-y.width,S=W>=2*n.c.NUDGE_PAGE_X_PADDING?n.c.NUDGE_PAGE_X_PADDING:W/2;100===e.props.width.value&&(S=0);y.width/2+n.c.NUDGE_PAGE_X_PADDING<i.width?(t.style.left=r.a.dimensionValue(H-y.width/2-S),C="center"):(t.style[i.side]=r.a.dimensionValue(S),C=i.side);let V,U=t.getBoundingClientRect();H<U.left+(n.c.NUDGE_PAGE_X_PADDING+7)?V="left":H>U.right-(n.c.NUDGE_PAGE_X_PADDING+7)&&(V="right");if(V){let e=`border-${"up"===N?"top":"bottom"}-${V}-radius`;t.style[e]=0}if(_.default.postRenderTasks(),"spotlight"===e.props.nudge_type&&e.props.nudge_props.showSpotlightArrow){let i=f(o);c.appendChild(i);let s,p,a,l,h,_=t.getBoundingClientRect();switch(i.height=g+2*n.c.ARROW_HEAD_LENGTH,i.width=Math.abs(d.left+d.width/2-(_.left+_.width/2))+2*n.c.ARROW_HEAD_LENGTH,"up"===N?(s=d.bottom+n.c.SPOTLIGHT_ARROW_GUTTER,i.style.top=r.a.dimensionValue(s)):(s=R.viewport.height-d.top+n.c.SPOTLIGHT_ARROW_GUTTER,i.style.bottom=r.a.dimensionValue(s)),C){case"left":case"center":i.style.left=r.a.dimensionValue(H-n.c.ARROW_HEAD_LENGTH);break;case"right":i.style.right=r.a.dimensionValue(R.viewport.width-H-n.c.ARROW_HEAD_LENGTH)}let u=n.c.ARROW_HEAD_LENGTH;if("down"===N)switch(C){case"left":p=i.width-u,a=u,l=u,h=i.height-u;break;case"center":p=i.width/2,a=u,l=i.width/2,h=i.height-u;break;case"right":p=u,a=u,l=i.width-u,h=i.height-u}else switch(C){case"left":p=i.width-u,a=i.height-u,l=u,h=u;break;case"center":p=i.width/2,a=i.height-u,l=i.width/2,h=u;break;case"right":p=u,a=i.height-u,l=i.width-u,h=u}m(e,i,p,a,l,h)}}(t,e,o);const R=Object(l.a)({defaultModifiers:[...h.a,c.a,d.a]}),y=e.props.position||"bottom",D=Object(a.d)(e.props.element_identifier),T=t;let H,O,P,N=8,k=!1,v=!1,I=(t={autoDismiss:!0})=>{k=!0,i.a.fire("closePrompt",[o,document.getElementById(o),t])};const L=r.a.drawAnchorTriangle(e.props,o);if(H=R(D,L,{placement:y,modifiers:[{name:"offset",options:{offset:({placement:t})=>function(t,e,o){const i=e.props.borderThickness+5,s=e.props.nudge_props.beaconScale?e.props.nudge_props.beaconScale:18,r="hotspot"===o?e.props.borderThickness+s:e.props.borderThickness;switch(t){case"top-start":return[i,r-3];case"top-end":return[-i,r-3];case"top":return[0,r-3];case"left-start":return[i,r-3];case"left-end":return[-i,r-3];case"left":return[0,r-3];case"right-start":return[i-5,r-3];case"right-end":return[-i-5,r-3];case"right":return[-5,r-3];case"bottom-start":return[i+5,r-3];case"bottom-end":return[5-i,r-3];case"bottom":return[5,r-3]}return[0,0]}(t,e,p)}},{name:"flip",enabled:!1}]}),"hotspot"===p){N=(e.props.nudge_props.beaconScale?e.props.nudge_props.beaconScale:18)+8;const i=r.a.drawAnchorHotspot(e.props.nudge_props,o);O=R(D,i,{placement:y,modifiers:[{name:"offset",options:{offset:({placement:t})=>function(t,e){const o=e.props.borderThickness+5;switch(t){case"top-start":return[o+3,0];case"top-end":return[1-o,0];case"top":return[2,0];case"left-start":return[o+1,0];case"left-end":return[-o-2,0];case"left":return[-2,0];case"right-start":return[o-2,-1];case"right-end":return[-o-2,-1];case"right":return[0,-1];case"bottom-start":return[o+2,-1];case"bottom-end":return[-o,-1];case"bottom":return[1,-1]}return[0,0]}(t,e)}},{name:"flip",enabled:!1}]}),e.props.showbody_onevent&&e.props.showbody_onevent.show&&(t.style.visibility="hidden",t.style.pointerEvents="none",L.style.visibility="hidden",L.style.pointerEvents="none",r.a.applyCssClass(i,"clickable"),i.setAttribute("onClick",r.a.generateHotspotClickHandler(o)))}P=R(D,T,{placement:y,modifiers:[{name:"offset",options:{offset:[0,N]}},{name:"topLogger",enabled:!0,phase:"main",fn({state:t}){H&&H.setOptions({placement:t.placement}),O&&O.setOptions({placement:t.placement})}},{name:"boundaryCheck",phase:"main",enabled:!0,fn(){v&&!k&&(r.a.isElementPartiallyInViewport(D)||(g.a.debug("KILL_NUDGE_ELEMENT_NOT_IN_VIEWPORT"),I({kill:!0})),r.a.isTargetElementCoveredByAnotherElement(D)&&(g.a.debug("KILL_NUDGE_ELEMENT_OVERLAPPING"),I({kill:!0})))}}],onFirstUpdate:()=>{v=!0,_.default.postRenderTasks()}}),s.a.setPopperInstance({nudge:P,tooltip:H,hotspot:O})}};e.default=R}}]);